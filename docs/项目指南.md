# å¤šæ¨¡æ€RAGç³»ç»Ÿ - é¡¹ç›®æŒ‡å—

## ğŸ‘¤ é¡¹ç›®è´Ÿè´£äººä¿¡æ¯
- **å§“å**: acebulid
- **GitHub**: https://github.com/acebulid
- **é¡¹ç›®ä»“åº“**: https://github.com/acebulid/rag_for_gradute.git
- **é¡¹ç›®åç§°**: åŸºäºæ–‡æœ¬-å›¾åƒå…³è”çš„æœ¬åœ°çŸ¥è¯†åº“æ„å»ºä¸å¤šæ¨¡æ€æ£€ç´¢å¢å¼ºç³»ç»Ÿâ€”â€”ä»¥æ ¡å›­å¯¼è§ˆä¸ºä¾‹
- **åˆ›å»ºæ—¶é—´**: 2026å¹´1æœˆ
- **å½“å‰çŠ¶æ€**: âœ… å·²æˆåŠŸå®ç°å¹¶æµ‹è¯•é€šè¿‡
- **æŠ€æœ¯æ ˆ**: Python + FastAPI + PostgreSQL + pgvector + Ollama + DashScope

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: åŸºäºæ–‡æœ¬-å›¾åƒå…³è”çš„æœ¬åœ°çŸ¥è¯†åº“æ„å»ºä¸å¤šæ¨¡æ€æ£€ç´¢å¢å¼ºç³»ç»Ÿâ€”â€”ä»¥æ ¡å›­å¯¼è§ˆä¸ºä¾‹  
**æŠ€æœ¯æ ˆ**: Python + FastAPI + PostgreSQL + pgvector + Ollama + DashScope  
**é¡¹ç›®çŠ¶æ€**: âœ… å·²æˆåŠŸå®ç°å¹¶æµ‹è¯•é€šè¿‡  
**GitHubä»“åº“**: https://github.com/acebulid/rag_for_gradute.git

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å¤šæ¨¡æ€RAGç³»ç»Ÿæ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ–‡æœ¬å¤„ç†   â”‚  å›¾åƒå¤„ç†   â”‚  å…³è”æ¨¡å‹   â”‚  æ£€ç´¢æœåŠ¡   â”‚
â”‚  (Ollama)   â”‚ (DashScope) â”‚   (KNN)     â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚           â”‚           â”‚           â”‚
         â–¼           â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 PostgreSQL + pgvector æ•°æ®åº“                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FastAPI REST API                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯ç»„ä»¶è¯¦æƒ…

#### 1. æ–‡æœ¬å‘é‡åŒ–
- **æœåŠ¡**: æœ¬åœ°OllamaæœåŠ¡
- **æ¨¡å‹**: `bge-m3:latest`
- **å‘é‡ç»´åº¦**: 1024ç»´
- **åŠŸèƒ½**: å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡è¡¨ç¤º
- **å“åº”æ—¶é—´**: ~5ç§’

#### 2. å›¾åƒå‘é‡åŒ–
- **æœåŠ¡**: é˜¿é‡Œäº‘DashScope API
- **æ¨¡å‹**: `qwen3-max`
- **åŠŸèƒ½**: å›¾åƒæè¿°ç”Ÿæˆå’Œå›¾åƒå‘é‡åŒ–
- **APIç«¯ç‚¹**: `https://dashscope.aliyuncs.com/api/v1`
- **å“åº”æ—¶é—´**: ~5-6ç§’

#### 3. å…³è”æ¨¡å‹
- **ç±»å‹**: Kæœ€è¿‘é‚»ï¼ˆKNNï¼‰æ¨¡å‹
- **åº“**: scikit-learn
- **åŠŸèƒ½**: å­¦ä¹ æ–‡æœ¬å‘é‡åˆ°å›¾åƒå‘é‡çš„æ˜ å°„å…³ç³»
- **è®­ç»ƒæ•°æ®**: å­˜å‚¨åœ¨`data/training_pairs.json`
- **æ¨¡å‹æ–‡ä»¶**: `data/models/relation_model.pkl`

#### 4. å‘é‡æ•°æ®åº“
- **æ•°æ®åº“**: PostgreSQL 15+
- **æ‰©å±•**: pgvector
- **å‘é‡ç»´åº¦**: 1024ç»´
- **è¡¨ç»“æ„**:
  - `documents`: å­˜å‚¨æ–‡æœ¬å†…å®¹å’Œå‘é‡
  - `image_descriptions`: å­˜å‚¨å›¾åƒæè¿°å’Œå‘é‡
  - `text_image_relations`: å­˜å‚¨æ–‡æœ¬-å›¾åƒå…³è”

#### 5. APIæœåŠ¡
- **æ¡†æ¶**: FastAPI
- **ç«¯å£**: 8000
- **APIç‰ˆæœ¬**:
  - `v1`: æ—§ç‰ˆå¤šæ¨¡æ€RAG API
  - `v2`: æ–°ç‰ˆå¤šæ¨¡æ€RAG APIï¼ˆæ¨èï¼‰

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
rag_for_gradute/
â”œâ”€â”€ .env                          # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ requirements.txt              # Pythonä¾èµ–åŒ…
â”œâ”€â”€ config/                       # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ database.py              # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ settings.py              # åº”ç”¨è®¾ç½®
â”œâ”€â”€ data/                         # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ training_pairs.json      # è®­ç»ƒæ•°æ®
â”‚   â”œâ”€â”€ processed/               # å¤„ç†åçš„æ•°æ®
â”‚   â”œâ”€â”€ raw/                     # åŸå§‹æ•°æ®
â”‚   â”‚   â”œâ”€â”€ images/              # åŸå§‹å›¾åƒ
â”‚   â”‚   â””â”€â”€ text/                # åŸå§‹æ–‡æœ¬
â”‚   â””â”€â”€ scripts/                 # æ•°æ®è„šæœ¬
â”œâ”€â”€ docs/                         # æ–‡æ¡£
â”‚   â”œâ”€â”€ postgresql_setup.md      # PostgreSQLå®‰è£…æŒ‡å—
â”‚   â””â”€â”€ é¡¹ç›®å¤åˆ»æŒ‡å—.md          # æœ¬æ–‡ä»¶
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api/                     # APIå±‚
â”‚   â”‚   â”œâ”€â”€ main.py              # FastAPIä¸»åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ schemas.py           # Pydanticæ¨¡å‹
â”‚   â”‚   â””â”€â”€ routers/             # APIè·¯ç”±
â”‚   â”‚       â”œâ”€â”€ rag.py           # v1 APIè·¯ç”±
â”‚   â”‚       â””â”€â”€ new_rag.py       # v2 APIè·¯ç”±ï¼ˆæ¨èï¼‰
â”‚   â”œâ”€â”€ services/                # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ dashscope_service.py # DashScopeæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ ollama_service.py    # OllamaæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ new_retrieval_service.py # æ–°æ£€ç´¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ relation_model.py    # å…³è”æ¨¡å‹
â”‚   â”‚   â””â”€â”€ retrieval_service.py # æ—§æ£€ç´¢æœåŠ¡
â”‚   â”œâ”€â”€ database/                # æ•°æ®å±‚
â”‚   â”‚   â”œâ”€â”€ models.py            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ vector_store.py      # å‘é‡å­˜å‚¨
â”‚   â”œâ”€â”€ chains/                  # LangChainé“¾
â”‚   â”‚   â””â”€â”€ multimodal_rag.py    # å¤šæ¨¡æ€RAGé“¾
â”‚   â””â”€â”€ processing/              # æ•°æ®å¤„ç†
â”‚       â””â”€â”€ pipeline.py          # æ•°æ®å¤„ç†ç®¡é“
â””â”€â”€ tests/                       # æµ‹è¯•æ–‡ä»¶
```

## ğŸ”§ ç¯å¢ƒé…ç½®

### 1. Pythonç¯å¢ƒ
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv rag_system
source rag_system/bin/activate  # Linux/Mac
rag_system\Scripts\activate     # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. PostgreSQLé…ç½®
```sql
-- å®‰è£…pgvectoræ‰©å±•
CREATE EXTENSION IF NOT EXISTS vector;

-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE rag_system;

-- åˆ›å»ºè¡¨ï¼ˆè‡ªåŠ¨é€šè¿‡ä»£ç åˆ›å»ºï¼‰
```

### 3. OllamaæœåŠ¡
```bash
# å®‰è£…Ollama
curl -fsSL https://ollama.com/install.sh | sh

# æ‹‰å–bge-m3æ¨¡å‹
ollama pull bge-m3

# å¯åŠ¨OllamaæœåŠ¡
ollama serve
```

### 4. ç¯å¢ƒå˜é‡é…ç½®
åˆ›å»º`.env`æ–‡ä»¶ï¼š
```env
# ==================== æ•°æ®åº“é…ç½® ====================
# Docker PostgreSQL é…ç½®
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=mydb
POSTGRES_USER=postgres
POSTGRES_PASSWORD=11111111

# ä¼ ç»Ÿè¿æ¥å­—ç¬¦ä¸²æ ¼å¼ï¼ˆå¤‡ç”¨ï¼‰
DATABASE_URL=postgresql://postgres:11111111@localhost:5432/mydb

# ==================== Ollamaé…ç½® ====================
# OllamaæœåŠ¡åœ°å€
OLLAMA_BASE_URL=http://localhost:11434

# åµŒå…¥æ¨¡å‹ï¼ˆæ–‡æœ¬å‘é‡åŒ–ï¼‰
EMBEDDING_MODEL=bge-m3:latest

# è§†è§‰è¯­è¨€æ¨¡å‹ï¼ˆå›¾åƒç†è§£ï¼‰
VLM_MODEL=qwen2.5vl:7b

# å¤§è¯­è¨€æ¨¡å‹ï¼ˆæ–‡æœ¬ç”Ÿæˆï¼‰
LLM_MODEL=qwen3:8b

# ==================== é˜¿é‡Œäº‘DashScopeé…ç½® ====================
# é˜¿é‡Œäº‘DashScope API Keyï¼ˆå¿…éœ€ï¼‰
# è·å–åœ°å€ï¼šhttps://dashscope.aliyun.com/
DASHSCOPE_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ==================== åº”ç”¨é…ç½® ====================
# å‘é‡ç»´åº¦ï¼ˆå¿…é¡»ä¸æ¨¡å‹åŒ¹é…ï¼‰
EMBEDDING_DIMENSION=1024

# æ‰¹å¤„ç†å¤§å°
BATCH_SIZE=10

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=INFO

# APIæœåŠ¡é…ç½®
API_HOST=0.0.0.0
API_PORT=8000
```

#### API Keyè·å–æŒ‡å—

##### 1. é˜¿é‡Œäº‘DashScope API Key
1. **è®¿é—®æ§åˆ¶å°**: https://dashscope.aliyun.com/
2. **æ³¨å†Œ/ç™»å½•**: ä½¿ç”¨é˜¿é‡Œäº‘è´¦å·ç™»å½•
3. **åˆ›å»ºAPI Key**:
   - è¿›å…¥"API Keyç®¡ç†"
   - ç‚¹å‡»"åˆ›å»ºAPI Key"
   - å¤åˆ¶ç”Ÿæˆçš„Keyï¼ˆæ ¼å¼ï¼š`sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`ï¼‰
4. **è®¾ç½®é¢åº¦**:
   - æ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦
   - å›¾åƒå‘é‡åŒ–ï¼šçº¦1000æ¬¡/æœˆå…è´¹
   - æ–‡æœ¬ç”Ÿæˆï¼šçº¦100ä¸‡tokens/æœˆå…è´¹

##### 2. Ollamaé…ç½®ï¼ˆæ— éœ€API Keyï¼‰
- **å®‰è£…**: ä» https://ollama.com/ ä¸‹è½½å®‰è£…
- **æ¨¡å‹ä¸‹è½½**: è¿è¡Œ `ollama pull bge-m3`
- **æœåŠ¡å¯åŠ¨**: è¿è¡Œ `ollama serve`
- **éªŒè¯**: è®¿é—® http://localhost:11434/api/tags

##### 3. PostgreSQLé…ç½®
- **é»˜è®¤å‡­æ®**:
  - ç”¨æˆ·å: `postgres`
  - å¯†ç : `11111111`
  - æ•°æ®åº“: `mydb`
  - ç«¯å£: `5432`
- **å®‰å…¨å»ºè®®**: ç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹é»˜è®¤å¯†ç 

#### ç¯å¢ƒå˜é‡éªŒè¯è„šæœ¬
åˆ›å»º `check_env.py` æ–‡ä»¶éªŒè¯é…ç½®ï¼š
```python
import os
from dotenv import load_dotenv

load_dotenv()

print("ç¯å¢ƒå˜é‡æ£€æŸ¥:")
print(f"1. PostgreSQL: {os.getenv('POSTGRES_HOST')}:{os.getenv('POSTGRES_PORT')}")
print(f"2. Ollama: {os.getenv('OLLAMA_BASE_URL')}")
print(f"3. DashScope API Key: {'å·²è®¾ç½®' if os.getenv('DASHSCOPE_API_KEY') else 'æœªè®¾ç½®'}")
print(f"4. åµŒå…¥æ¨¡å‹: {os.getenv('EMBEDDING_MODEL')}")
```

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤1: å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/acebulid/rag_for_gradute.git
cd rag_for_gradute
```

### æ­¥éª¤2: å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### æ­¥éª¤3: é…ç½®æ•°æ®åº“
1. å®‰è£…PostgreSQL 15+
2. åˆ›å»ºæ•°æ®åº“ï¼š`rag_system`
3. å®‰è£…pgvectoræ‰©å±•
4. æ›´æ–°`.env`æ–‡ä»¶ä¸­çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯

### æ­¥éª¤4: å¯åŠ¨OllamaæœåŠ¡
```bash
# åœ¨ä¸€ä¸ªç»ˆç«¯ä¸­å¯åŠ¨Ollama
ollama serve

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­æµ‹è¯•Ollama
ollama pull bge-m3
```

### æ­¥éª¤5: é…ç½®DashScope API
1. è®¿é—®é˜¿é‡Œäº‘DashScopeæ§åˆ¶å°
2. è·å–API Key
3. æ›´æ–°`.env`æ–‡ä»¶ä¸­çš„`DASHSCOPE_API_KEY`

### æ­¥éª¤6: åˆå§‹åŒ–æ•°æ®åº“
```bash
# è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
python data/scripts/create_tables.py

# å¯¼å…¥ç¤ºä¾‹æ•°æ®
python data/scripts/import_sample_data.py
```

### æ­¥éª¤7: å¯åŠ¨APIæœåŠ¡
```bash
# å¯åŠ¨FastAPIæœåŠ¡
python src/api/main.py

# æœåŠ¡å°†åœ¨ http://localhost:8000 å¯åŠ¨
# APIæ–‡æ¡£: http://localhost:8000/docs
```

## ğŸ“Š æ•°æ®å¯¼å…¥

### æ–‡æœ¬æ•°æ®æ ¼å¼
```markdown
# æ–‡æ¡£æ ‡é¢˜

æ–‡æ¡£å†…å®¹...

# å¦ä¸€ä¸ªæ ‡é¢˜

æ›´å¤šå†…å®¹...
```

### å›¾åƒæ•°æ®
- æ”¯æŒæ ¼å¼: PNG, JPG, JPEG
- å»ºè®®å°ºå¯¸: ä¸è¶…è¿‡1024x1024
- å­˜å‚¨ä½ç½®: `data/raw/images/`

### æ•°æ®å¤„ç†æµç¨‹
```bash
# è¿è¡Œæ•°æ®å¤„ç†ç®¡é“
python src/processing/pipeline.py \
  --text_dir data/raw/text \
  --image_dir data/raw/images
```

## ğŸ”Œ APIä½¿ç”¨æŒ‡å—

### v2 APIç«¯ç‚¹ï¼ˆæ¨èï¼‰

#### 1. å¥åº·æ£€æŸ¥
```bash
curl http://localhost:8000/health
```

#### 2. ç³»ç»Ÿä¿¡æ¯
```bash
curl http://localhost:8000/v2/rag/system-info
```

#### 3. RAGæŸ¥è¯¢
```bash
curl -X POST "http://localhost:8000/v2/rag/query-with-rag" \
  -H "Content-Type: application/json" \
  -d '{
    "text_query": "æ ¡å›­æ­£é—¨åœ¨å“ªé‡Œï¼Ÿ",
    "top_k": 3,
    "threshold": 0.3
  }'
```

#### 4. è®­ç»ƒå…³è”æ¨¡å‹
```bash
curl -X POST "http://localhost:8000/v2/rag/train-relation-model"
```

#### 5. è·å–è®­ç»ƒæ•°æ®
```bash
curl http://localhost:8000/v2/rag/training-data
```

### APIå“åº”ç¤ºä¾‹
```json
{
  "query_id": "1dfd5c35-5e5c-4050-896d-e7b8a1b60703",
  "answer": "æ ¹æ®æä¾›çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæ ¡å›­æ­£é—¨ä½äºé¦–éƒ½å¸ˆèŒƒå¤§å­¦æœ¬éƒ¨çš„ä¸»å…¥å£å¤„...",
  "source_documents": [
    {
      "id": "27fe69de-5b8d-4877-ad23-499db44c4712",
      "content": "# æœ¬éƒ¨_æ­£é—¨\n\nåœ¨æ­£é—¨çš„å·¦ä¾§ï¼Œæœ‰ä¸€æ ‹è¢«çˆ¬å±±è™è¦†ç›–çš„å»ºç­‘...",
      "score": 0.6104075550862349
    }
  ],
  "retrieval_metrics": {
    "total_time_ms": 8290.58837890625,
    "generation_time_ms": 4166.089057922363,
    "response_time_ms": 4118.839740753174
  },
  "generation_time_ms": 4166.089057922363,
  "total_time_ms": 8290.58837890625
}
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. å•å…ƒæµ‹è¯•
```bash
# æµ‹è¯•æœåŠ¡
python data/scripts/test_services.py

# æµ‹è¯•API
python data/scripts/test_api.py

# æµ‹è¯•RAGç³»ç»Ÿ
python data/scripts/test_rag_system.py
```

### 2. é›†æˆæµ‹è¯•
```bash
# å®Œæ•´çš„é›†æˆæµ‹è¯•
python data/scripts/test_new_architecture_fixed.py
```

### 3. æ‰‹åŠ¨æµ‹è¯•
1. å¯åŠ¨æ‰€æœ‰æœåŠ¡
2. è®¿é—® http://localhost:8000/docs
3. æµ‹è¯•å„ä¸ªAPIç«¯ç‚¹
4. éªŒè¯RAGæŸ¥è¯¢åŠŸèƒ½

## âš ï¸ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1: Pythonå¯¼å…¥é”™è¯¯
**ç—‡çŠ¶**: `ModuleNotFoundError: No module named 'src'`
**è§£å†³æ–¹æ¡ˆ**:
```python
# åœ¨main.pyæ–‡ä»¶é¡¶éƒ¨æ·»åŠ 
import sys
import os
PROJECT_ROOT = os.path.abspath(os.path.join(os.path.dirname(__file__), "../../"))
sys.path.insert(0, PROJECT_ROOT)
```

### é—®é¢˜2: PostgreSQLè¿æ¥å¤±è´¥
**ç—‡çŠ¶**: `psycopg2.OperationalError: connection to server failed`
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥PostgreSQLæœåŠ¡æ˜¯å¦è¿è¡Œ
2. éªŒè¯`.env`æ–‡ä»¶ä¸­çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### é—®é¢˜3: OllamaæœåŠ¡ä¸å¯ç”¨
**ç—‡çŠ¶**: `Ollama service may not be available`
**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¯åŠ¨OllamaæœåŠ¡
ollama serve

# æµ‹è¯•è¿æ¥
curl http://localhost:11434/api/tags
```

### é—®é¢˜4: DashScope APIé”™è¯¯
**ç—‡çŠ¶**: `DashScope APIé”™è¯¯: Invalid API Key`
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥`.env`æ–‡ä»¶ä¸­çš„`DASHSCOPE_API_KEY`
2. éªŒè¯API Keyæ˜¯å¦æœ‰æ•ˆ
3. æ£€æŸ¥ç½‘ç»œè¿æ¥

## ğŸ”„ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. å“åº”æ—¶é—´ä¼˜åŒ–
- å½“å‰RAGæŸ¥è¯¢æ—¶é—´: ~8ç§’
- ä¼˜åŒ–ç›®æ ‡: <3ç§’
- å»ºè®®æªæ–½:
  - ç¼“å­˜å¸¸ç”¨æŸ¥è¯¢ç»“æœ
  - é¢„åŠ è½½å¸¸ç”¨æ¨¡å‹
  - ä¼˜åŒ–æ•°æ®åº“ç´¢å¼•

### 2. å†…å­˜ä¼˜åŒ–
- ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ
- å®ç°åˆ†é¡µåŠ è½½
- æ¸…ç†ä¸å¿…è¦çš„ç¼“å­˜

### 3. å¹¶å‘å¤„ç†
- å®ç°å¼‚æ­¥å¤„ç†
- ä½¿ç”¨è¿æ¥æ± 
- è´Ÿè½½å‡è¡¡

## ğŸ“ˆ æ‰©å±•åŠŸèƒ½

### è®¡åˆ’ä¸­çš„åŠŸèƒ½
1. **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**
2. **å®æ—¶æ•°æ®æ›´æ–°**
3. **å¤šè¯­è¨€æ”¯æŒ**
4. **ç§»åŠ¨ç«¯åº”ç”¨**
5. **æ•°æ®åˆ†æé¢æ¿**

### æŠ€æœ¯å‡çº§è·¯å¾„
1. **å‘é‡æ•°æ®åº“**: è€ƒè™‘è¿ç§»åˆ°Milvusæˆ–Qdrant
2. **æ¨¡å‹å‡çº§**: æ”¯æŒæ›´å¤šLLMå’ŒåµŒå…¥æ¨¡å‹
3. **éƒ¨ç½²ä¼˜åŒ–**: Dockerå®¹å™¨åŒ–éƒ¨ç½²
4. **ç›‘æ§ç³»ç»Ÿ**: é›†æˆPrometheuså’ŒGrafana

## ğŸ“ æ”¯æŒä¸è´¡çŒ®

### è·å–å¸®åŠ©
- GitHub Issues: https://github.com/acebulid/rag_for_gradute/issues
- é¡¹ç›®æ–‡æ¡£: `docs/`ç›®å½•

### è´¡çŒ®æŒ‡å—
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»ºPull Request

### ä»£ç è§„èŒƒ
- éµå¾ªPEP 8 Pythonä»£ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°æ–‡æ¡£

## ğŸ“ ç‰ˆæœ¬å†å²

### v1.0.0 (åˆå§‹ç‰ˆæœ¬)
- åŸºç¡€å¤šæ¨¡æ€RAGæ¶æ„
- PostgreSQL + pgvectoræ•°æ®åº“
- Ollamaæ–‡æœ¬å‘é‡åŒ–
- DashScopeå›¾åƒå¤„ç†
- FastAPI RESTæ¥å£

### v2.0.0 (å½“å‰ç‰ˆæœ¬)
- æ–°çš„å¤šæ¨¡æ€æ£€ç´¢å™¨
- KNNå…³è”æ¨¡å‹
- æ”¹è¿›çš„APIè®¾è®¡
- å®Œæ•´çš„æµ‹è¯•å¥—ä»¶
- æ€§èƒ½ä¼˜åŒ–

---

**æœ€åæ›´æ–°**: 2026å¹´1æœˆ8æ—¥  
**ç»´æŠ¤è€…**: acebulid  
**GitHub**: https://github.com/acebulid  
**é¡¹ç›®çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª